(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,a){e.exports=a(63)},33:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),s=a(20),c=a.n(s),r=(a(33),a(21)),i=a(22),o=a(25),m=a(23),u=a(26),d=function(e){return l.a.createElement("div",{className:"box search"},l.a.createElement("form",{onSubmit:e.getUser},l.a.createElement("input",{className:"artist_search",type:"text",value:e.name||"",placeholder:"Search Artist...",onChange:e.handleSearch})))},v=a(2),f=a.n(v),E=a(24),h=a.n(E);a(43);function D(e){e.nextMonth,e.previousMonth;var t=e.onPreviousClick,a=e.onNextClick,n=e.className;e.localeUtils;return l.a.createElement("div",{className:n},l.a.createElement("button",{className:"left",onClick:function(){return t()}},"\u276e"),l.a.createElement("button",{className:"right",onClick:function(){return a()}},"\u276f"))}var y=function(e){return l.a.createElement(h.a,{showOutsideDays:!0,navbarElement:l.a.createElement(D,null),onDayClick:function(t,a,n){for(var l=document.querySelectorAll(".selectedDay"),s=0;s<l.length;s++)l[s].classList.remove("selectedDay");n.target.classList.add("selectedDay"),e.onDayClick(t)},selectedDays:e.events,captionElement:function(e){var t=e.date,a=e.localeUtils;return l.a.createElement("span",{className:"DayPicker-Caption"},a.getMonths()[t.getMonth()])}})},g=function(e){var t=e.events,a=e.details,n=e.selectedDay,s=e.onAllEventsClick,c=e.onDayClick,r=t?t.map(function(e){return f()(e.datetime).toDate()}):[];return l.a.createElement("div",{className:"box details"},l.a.createElement("img",{className:"details_image",alt:"",src:a.image_url}),l.a.createElement("div",{className:"details_info"},l.a.createElement("div",{className:"details_name"}," ",a.name),l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:"details_number",href:a.facebook_page_url},"facebook")),l.a.createElement(y,{events:r,onDayClick:c}),n&&l.a.createElement("a",{className:"all-events",href:"",onClick:s},"All Events"))},p=function(e){var t=e.event,a=f()(t.datetime).format("MMM DD"),n=f()(t.datetime).format("hh: mm a");return l.a.createElement("li",{className:"EventItem"},l.a.createElement("div",{className:"event-date"},l.a.createElement("span",{className:"month"}," ",a&&a.split(" ")[0]),l.a.createElement("span",{className:"day"},a&&a.split(" ")[1])),t.venue&&l.a.createElement("div",{className:"venue"},l.a.createElement("h4",{className:"name"}," ",t.venue.name),l.a.createElement("p",{className:"country"},"".concat(t.venue.city&&t.venue.city,", ").concat(t.venue.country&&t.venue.country))),l.a.createElement("div",{className:"time"},l.a.createElement("h4",{className:"event-time"}," ",n," ")))},N=function(e){var t,a=e.events,n=e.selectedDay;return t=a.map(function(e,t){return l.a.createElement(p,{event:e,key:t})}),l.a.createElement("div",{className:"box events"},l.a.createElement("h2",null," ",n||"All Events"),l.a.createElement("ul",null,t))},k=a(11),b=a.n(k),C=function(e){function t(e){var a;Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).getUser=function(e){var t=a.state,n=t.name;t.selectedDay,t.loading,t.artistEvents;e.preventDefault();var l=null;a.setState({loading:!0,selectedDay:null},function(){b.a.get("https://rest.bandsintown.com/artists/".concat(n,"?app_id=09f313e072cd1b192f200fb70df19ea5")).then(function(e){return console.log(e),l=e.data,b.a.get("https://rest.bandsintown.com/artists/".concat(n,"/events?app_id=09f313e072cd1b192f200fb70df19ea5"))}).then(function(e){a.setState({artistDetails:l,artistEvents:e.data,loading:!1},function(){localStorage.setItem("artistDetails",JSON.stringify({artistDetails:l,artistEvents:a.state.artistEvents,name:n}))})})})},a.handleSearch=function(e){a.setState({name:e.target.value})},a.handleDayClick=function(e){a.setState(function(t){return{selectedDay:e||t.selectedDay}})},a.handleAllEventsClick=function(e){e.preventDefault(),a.setState({selectedDay:null})};var n=null;return localStorage.getItem("artistDetails")&&(n=JSON.parse(localStorage.getItem("artistDetails"))),a.state={name:n?n.name:null,artistDetails:n?n.artistDetails:null,artistEvents:n?n.artistEvents:null,selectedDay:null,loading:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.selectedDay,a=e.artistEvents,s=e.name,c=e.artistDetails,r=e.loading,i=t?a.filter(function(e){if(f()(e.datetime).format("YYYY-MM-DD")===f()(t).format("YYYY-MM-DD"))return e}):a;return console.log(i,a,c,r),l.a.createElement("div",{className:"App"},l.a.createElement(d,{handleSearch:this.handleSearch,name:s,getUser:this.getUser}),r?l.a.createElement("div",{className:"loader"}):c?l.a.createElement(n.Fragment,null,l.a.createElement(g,{details:c,events:a,onDayClick:this.handleDayClick,selectedDay:t,onAllEventsClick:this.handleAllEventsClick}),l.a.createElement(N,{events:i,selectedDay:t&&f()(t).format("MMM DD")})):s&&l.a.createElement("p",null,"Now Artist found"))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[27,1,2]]]);
//# sourceMappingURL=main.7ec81502.chunk.js.map